# `<textarea>`

import {
  Required,
  Deprecated,
  AndroidOnly,
  IOSOnly,
  Go,
  LegacyCompatTable,
} from '@lynx';
import { PropsTable, EventsTable, MethodsTable } from '@theme/reference';

`<textarea>` is used to create interactive input controls that allow users to input and edit multi-line text.

## Usage

### Basic

Below is a basic usage example of the `<textarea>` component:

<Go
  example="textarea"
  defaultFile="src/base/index.tsx"
  img="https://lf-lynx.tiktok-cdns.com/obj/lynx-artifacts-oss-sg/plugin/static/textarea_basic.PNG"
  highlight="{13-21}"
/>

### Custom Placeholder Style

`<textarea>` can customize its style using the `::placeholder` pseudo-element:

<Go
  example="textarea"
  defaultFile="src/customized-placeholder/index.tsx"
  img="https://lf-lynx.tiktok-cdns.com/obj/lynx-artifacts-oss-sg/plugin/static/textarea_customized.MP4"
  highlight="{13-21}"
/>

## Attributes

Property names and values are used to describe the component's behavior and appearance.

### `placeholder`

```ts
// DefaultValue: undefined
placeholder?: string
```

Placeholder text

### `confirm-type`

```ts
// DefaultValue: undefined
'confirm-type'?: 'send' | 'search' | 'go' | 'done' | 'next';
```

Specifies the behavior of the IME's enter key

### `maxlength`

```ts
// DefaultValue: 140
maxlength?: number;
```

Maximum character limit for the input box

### `maxlines`

```ts
// DefaultValue: 140
maxlines?: number;
```

Maximum line limit for the input box

### `readonly`

```ts
// DefaultValue: false
readonly?: boolean;
```

Whether the input box is interactive (doesn't affect component method calls)

### `show-soft-input-on-focus`

```ts
// DefaultValue: true
'show-soft-input-on-focus'?: boolean;
```

Whether to show soft keyboard when focused

### `type`

```ts
// DefaultValue: 'text'
type?: 'text' | 'number' | 'digit' | 'tel' | 'email';
```

Specifies keyboard type:

- text\tel\email: Full symbols
- number: 0-9 +-.
- digit: 0-9 .

::: info
Different IMEs may have different visual representations
:::

### `input-filter`

```ts
// DefaultValue: undefined
'input-filter'?: string;
```

Single character filter using regular expression

## Events

Frontend can listen to component behavior using [event handler attributes](../../../guide/interaction/event-handling/event-propagation.mdx#event-handler-attributes).

### `bindfocus`

```ts
export interface TextareaFocusEvent {
  value: string;
}
 bindfocus?: (e: BaseEvent<'bindfocus', TextareaFocusEvent>) => void;
```

Callback when input box is focused

### `bindblur`

```ts
export interface TextareaBlurEvent {
  value: string;
}
bindblur?: (e: BaseEvent<'bindblur', TextareaBlurEvent>) => void;
```

Callback when input box loses focus

### `bindconfirm`

```ts
export interface TextareaConfirmEvent {
  value: string;
}
bindconfirm?: (e: BaseEvent<'bindconfirm', TextareaConfirmEvent>) => void;
```

Callback when IME enter key is pressed

### `bindinput`

```ts
export interface TextareaTextareaEvent {
  value: string;
  selectionStart: number;
  selectionEnd: number;
  isComposing?: boolean;
}
bindinput?: (e: BaseEvent<'bindinput', TextareaTextareaEvent>) => void;
```

Callback when input content changes

### `bindselection`

```ts
export interface TextareaSelectionEvent {
  selectionStart: number;
  selectionEnd: number;
}
bindselection?: (e: BaseEvent<'bindselection', TextareaSelectionEvent>) => void;
```

Callback when cursor position changes

## Methods

Frontend can execute component methods via [SelectorQuery](/api/lynx-api/nodes-ref/nodes-ref-invoke.html) API.

### `focus`

```ts
export interface TextareaFocusMethod extends BaseMethod {
  method: 'focus';
}
```

Focus the input box

### `blur`

```ts
export interface TextareaBlurMethod extends BaseMethod {
  method: 'blur';
}
```

Remove focus from input box

### `getValue`

```ts
export interface TextareaGetValueMethod extends BaseMethod {
  method: 'getValue';
  success?: Callback<{
    value: string;
    selectionStart: number;
    selectionEnd: number;
    isComposing: boolean;
  }>;
}
```

Get input content

### `setValue`

```ts
export interface TextareaSetValueMethod extends BaseMethod {
  method: 'setValue';
  params: {
    value: string;
  };
}
```

Set input content

### `setSelectionRange`

```ts
export interface TextareaSetSelectionRangeMethod extends BaseMethod {
  method: 'setSelectionRange';
  params: {
    selectionStart: number;
    selectionEnd: number;
  };
}
```

Set cursor position

## Compatibility

<LegacyCompatTable metadata="elements/textarea" />

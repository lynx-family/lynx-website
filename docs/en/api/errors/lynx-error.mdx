# LynxError API

`LynxError` is the standard error object returned by the Lynx runtime to indicate runtime failures, warnings, or recoverable issues in your app.

It contains both machine-readable information (error code, subcode, severity) and a human-readable message.

## Overview

| Property     | Type     | Description                                           |
| ------------ | -------- | ----------------------------------------------------- |
| `errorCode`  | `int`    | Top-level error code (e.g. 102)                       |
| `subCode`    | `int`    | More specific error code (e.g. 10203)                 |
| `level`      | `string` | Severity level: `Fatal`, `Error`, `Warn`, `Undecided` |
| `msg`        | `string` | Human-readable error message                          |
| `toString()` | `string` | Full string representation of the error               |

---

## Use Cases

- Display meaningful errors in debug/development mode
- Trigger fallback UI or navigation for fatal runtime issues
- Report issues for analytics or bug tracking

---

## Platform Methods

### Android

| Method           | Return Type | Description            |
| ---------------- | ----------- | ---------------------- |
| `getErrorCode()` | `int`       | Returns `errorCode`    |
| `getSubCode()`   | `int`       | Returns `subCode`      |
| `getLevel()`     | `String`    | Returns severity level |
| `getMsg()`       | `String`    | Returns error message  |
| `toString()`     | `String`    | Full stringified error |

### iOS

| Property      | Type        | Description                |
| ------------- | ----------- | -------------------------- |
| `errorCode`   | `NSInteger` | Same as above              |
| `subCode`     | `NSInteger` | —                          |
| `level`       | `NSString*` | —                          |
| `msg`         | `NSString*` | —                          |
| `description` | `NSString*` | Equivalent of `toString()` |

---

## Error Levels

| Level       | Meaning                | Suggested Action             |
| ----------- | ---------------------- | ---------------------------- |
| `Fatal`     | App is likely unusable | Reload or fallback UI        |
| `Error`     | Recoverable issue      | Log or retry                 |
| `Warn`      | Non-blocking warning   | Log and continue             |
| `Undecided` | Not yet categorized    | Handle gracefully, log issue |

---

## Example

### JavaScript

```js
lynx.onError((err) => {
  if (err.getLevel() === 'Fatal') {
    // Possibly reload or fallback to home
    console.error('Critical error occurred:', err.getMsg());
  }
});
```

### Kotlin

```kotlin
fun onLynxError(error: LynxError) {
    if (error.level == "Fatal") {
        println("Fatal error: ${error.msg}")
    }
}
```

### Swift

```swift
func onLynxError(_ error: LynxError) {
  if error.level == "Fatal" {
    print("Fatal error: \(error.msg)")
  }
}
```

---

## Compatibility

import { LegacyCompatTable } from '@lynx';

<LegacyCompatTable metadata="errors/lynx-error" />

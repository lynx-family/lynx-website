import { Details, PlatformTabs, CodeFold, Go } from '@lynx';

# requestAnimationFrame()

在下一次 VSYNC 时调用指定回调函数。

`requestAnimationFrame` 通常用于希望通过在每一帧内修改属性来实现动画效果的场景。
注意 `requestAnimationFrame` 只会在下一帧生效；如果希望使其持续生效，需要嵌套调用 `requestAnimationFrame`。

## 语法

```ts
requestAnimationFrame: (callback: (timeStamp: number) => void) => number;
```

### 参数

#### callback

在下一次 VSYNC 时，需要调用的回调函数。回调函数具有一个参数 `timeStamp`，是开始执行回调函数的时刻。

### 返回值

一个整数类型的 id，用于取消这个 `requestAnimationFrame` 的回调。

## 示例

在控制台中打印帧率：

<Go
  example="lynx-api"
  defaultFile="src/request-animation-frame/App.tsx"
  defaultEntryFile="dist/request-animation-frame.lynx.bundle"
  img="https://lf-lynx.tiktok-cdns.com/obj/lynx-artifacts-oss-sg/lynx-website/assets/doc/request-animation-frame-preview.gif"
/>

## 兼容性

import { LegacyCompatTable } from '@lynx';

<LegacyCompatTable metadata="lynx-api/lynx/requestAnimationFrame" />

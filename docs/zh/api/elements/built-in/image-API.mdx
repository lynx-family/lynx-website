import {
  AndroidOnly,
  IOSOnly,
  ClayOnly,
  HarmonyOnly,
  Required,
  Deprecated,
  Go,
  PlatformTabs,
} from '@lynx';
import { VersionBadge, APITable } from '@lynx';

用于显示图像

## 属性

### `auto-size`

{' '}
<AndroidOnly /> <IOSOnly /> <ClayOnly /> <HarmonyOnly /> <VersionBadge>
  2.6
</VersionBadge>

```tsx
// @默认值: false
'auto-size'?: boolean;
```

当设置为 true 且
`<image>`
元素没有指定宽度或高度时，
在图片成功加载后，
`<image>`
的大小将自动调整
以匹配图片的原始尺寸，
同时确保保持宽高比。

### `autoplay`

{' '}
<AndroidOnly /> <IOSOnly /> <ClayOnly /> <HarmonyOnly /> <VersionBadge>
  2.11
</VersionBadge>

```tsx
// @默认值: true
autoplay?: boolean;
```

指定动画图片加载完成后是否应自动开始播放。

### `blur-radius`

{' '}
<AndroidOnly /> <IOSOnly /> <ClayOnly /> <HarmonyOnly /> <VersionBadge>
  0.2
</VersionBadge>

```tsx
'blur-radius'?: string;
```

图片模糊半径

### `cap-insets`

{' '}
<AndroidOnly /> <IOSOnly /> <ClayOnly /> <HarmonyOnly /> <VersionBadge>
  1.4
</VersionBadge>

```tsx
'cap-insets'?: string;
```

9patch 图片的可拉伸区域，以百分比或小数表示，四个值分别对应上、右、下、左

### `cap-insets-scale`

{' '}
<AndroidOnly /> <IOSOnly /> <ClayOnly /> <HarmonyOnly /> <VersionBadge>
  1.4
</VersionBadge>

```tsx
// @默认值: 1
'cap-insets-scale'?: number;
```

调整 9patch 图片可拉伸区域的缩放比例

### `defer-src-invalidation`

{' '}
<AndroidOnly /> <IOSOnly /> <ClayOnly /> <HarmonyOnly /> <VersionBadge>
  2.7
</VersionBadge>

```tsx
// @默认值: false
'defer-src-invalidation'?: boolean;
```

当设置为 true 时，
`<image>`
仅在新图片成功加载后才会清除之前显示的图片资源。
默认行为是在开始加载新图片之前清除图片资源。
这可以解决图片 src 切换并重新加载时的闪烁问题。不建议在列表等视图中存在节点复用的场景中启用此功能。

### `image-config`

{' '}
<AndroidOnly /> <ClayOnly /> <VersionBadge>1.4</VersionBadge>

```tsx
// @默认值: "ARGB_8888"
'image-config'?: 'ARGB_8888' | 'RGB_565';
```

ARGB_8888：每个像素 32 位内存，支持半透明图片
RGB_565：每个像素 16 位内存，减少内存使用但失去透明度
从 3.5 版本开始支持 PC 平台

### `loop-count`

{' '}
<AndroidOnly /> <IOSOnly /> <ClayOnly /> <HarmonyOnly /> <VersionBadge>
  1.4
</VersionBadge>

```tsx
// @默认值: 0
'loop-count'?: number;
```

动画图片的播放次数，0 表示无限循环

### `mode`

{' '}
<AndroidOnly /> <IOSOnly /> <ClayOnly /> <HarmonyOnly /> <VersionBadge>
  0.2
</VersionBadge>

```tsx
// @默认值: 'scaleToFill'
mode?: 'scaleToFill' | 'aspectFit' | 'aspectFill' | 'center';
```

指定图片裁剪/缩放模式
scaleToFill：不保持宽高比缩放图片，拉伸图片以填充元素
aspectFit：保持宽高比缩放图片，使长边完全可见
aspectFill：保持宽高比缩放图片，确保短边填充元素
center：不缩放图片；图片居中显示

### `placeholder`

{' '}
<AndroidOnly /> <IOSOnly /> <ClayOnly /> <HarmonyOnly /> <VersionBadge>
  1.4
</VersionBadge>

```tsx
placeholder?: string;
```

占位图片，使用方式与 src 相同

### `prefetch-height`

{' '}
<AndroidOnly /> <IOSOnly /> <VersionBadge>1.4</VersionBadge>

```tsx
// @默认值: "0px"
'prefetch-height'?: string;
```

如果图片尺寸为 0 则不会加载，但设置了 prefetch-height 则会加载

### `prefetch-width`

{' '}
<AndroidOnly /> <IOSOnly /> <VersionBadge>1.4</VersionBadge>

```tsx
// @默认值: "0px"
'prefetch-width'?: string;
```

如果图片尺寸为 0 则不会加载，但设置了 prefetch-width 则会加载

### `src`

{' '}
<AndroidOnly /> <IOSOnly /> <ClayOnly /> <HarmonyOnly /> <VersionBadge>
  0.2
</VersionBadge>

```tsx
// @默认值: 未定义
src?: string;
```

支持 http/https/base64

### `tint-color`

{' '}
<AndroidOnly /> <IOSOnly /> <ClayOnly /> <HarmonyOnly /> <VersionBadge>
  2.12
</VersionBadge>

```tsx
'tint-color'?: string;
```

将所有非透明像素的颜色更改为指定的 tint-color。该值为一个
`<color>`
。

## 事件

前端可以绑定相应的事件回调来监听元素的运行时行为，如下所示。

### `binderror`

{' '}
<AndroidOnly /> <IOSOnly /> <ClayOnly /> <HarmonyOnly /> <VersionBadge>
  0.2
</VersionBadge>

```tsx
binderror = (e: ErrorEvent) => {};
```

图片加载错误事件

### `bindload`

{' '}
<AndroidOnly /> <IOSOnly /> <ClayOnly /> <HarmonyOnly /> <VersionBadge>
  0.2
</VersionBadge>

```tsx
bindload = (e: LoadEvent) => {};
```

图片加载成功事件

## 方法

前端可以通过 [SelectorQuery](/api/lynx-api/nodes-ref/nodes-ref-invoke.html) API 调用组件方法。

### `pauseAnimation`

{' '}
<AndroidOnly /> <IOSOnly /> <ClayOnly /> <HarmonyOnly /> <VersionBadge>
  2.11
</VersionBadge>
```ts

lynx.createSelectorQuery()
.select('#id')
.invoke({
method: 'pauseAnimation',
success: function (res) {},
fail: function (res) {},
})
.exec();

````

暂停动画，不重置循环次数。

### `resumeAnimation`

 <AndroidOnly /> <IOSOnly /> <ClayOnly /> <HarmonyOnly /> <VersionBadge>2.11</VersionBadge>
```ts

lynx.createSelectorQuery()
     .select('#id')
     .invoke({
      method: 'resumeAnimation',
      success: function (res) {},
      fail: function (res) {},
    })
    .exec();

````

恢复动画，不重置循环次数。

### `startAnimate`

{' '}
<AndroidOnly /> <IOSOnly /> <ClayOnly /> <HarmonyOnly /> <Deprecated />
```ts

lynx.createSelectorQuery()
.select('#id')
.invoke({
method: 'startAnimate',
success: function (res) {},
fail: function (res) {},
})
.exec();

````

重新启动前端控制的动画播放方法，动画播放进度和循环次数将被重置。

### `stopAnimation`

 <AndroidOnly /> <IOSOnly /> <ClayOnly /> <HarmonyOnly /> <VersionBadge>2.11</VersionBadge>
```ts

lynx.createSelectorQuery()
     .select('#id')
     .invoke({
      method: 'stopAnimation',
      success: function (res) {},
      fail: function (res) {},
    })
    .exec();

````

停止动画，并重置循环次数。

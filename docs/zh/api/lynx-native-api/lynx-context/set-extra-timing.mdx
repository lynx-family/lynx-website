# setExtraTiming

该接口用于在加载 Lynx 页面前补充关键性能数据，具体包括 [`InitContainerEntry`](/api/lynx-api/performance-api/performance-entry/init-container-entry) 中的以下几项：

- 页面打开时间 (`openTime`)
- [TemplateBundle](/api/lynx-native-api/template-bundle) 准备开始时间戳 (`prepareTemplateStart`)
- TemplateBundle 准备结束时间戳 (`prepareTemplateEnd`)
- [容器](/guide/spec#container) 初始化开始时间戳 (`containerInitStart`)
- 容器初始化结束时间戳 (`containerInitEnd`)

当使用此接口成功更新所有时间戳后，将会触发 `InitContainerEntry` 性能事件。根据配置的时间点，它还可能触发 `fcp`、`totalFcp`、`actualFmp` 和 `totalActualFmp` 指标的计算，并为 [`MetricFcpEntry`](/api/lynx-api/performance-api/performance-entry/metric-fcp-entry) 和 [`MetricActualFmpEntry`](/api/lynx-api/performance-api/performance-entry/metric-actual-fmp-entry) 派发新的性能事件。

:::caution
`extraTiming` 内的时间戳不可覆盖，这意味着多次调用此接口尝试重复更新一个时间戳将不会产生任何效果。
:::

## 语法

### Harmony

```typescript
public setExtraTiming(extraTiming: LynxExtraTiming): void;
```

#### 参数说明

- `extraTiming`: 用于在加载 Lynx 页面前补充关键性能数据。

`LynxExtraTiming` 的具体定义如下：
```typescript
export class LynxExtraTiming {
  public static readonly OPEN_TIME = 'openTime';
  public static readonly CONTAINER_INIT_START = 'containerInitStart';
  public static readonly CONTAINER_INIT_END = 'containerInitEnd';
  public static readonly PREPARE_TEMPLATE_START = 'prepareTemplateStart';
  public static readonly PREPARE_TEMPLATE_END = 'prepareTemplateEnd';

  public openTime: number = 0;
  public containerInitStart: number = 0;
  public containerInitEnd: number = 0;
  public prepareTemplateStart: number = 0;
  public prepareTemplateEnd: number = 0;
}
```

## 兼容性

import { LegacyCompatTable } from '@lynx';

<LegacyCompatTable metadata="lynx-native-api/lynx-context/set-extra-timing" />
# LynxValue
LynxValue 是 Lynx 提供的一套 C Value API，支持 LynxSDK 与 Lynx 客户端接口使用方相互传递数据。

## lynx_value_typeof
获取 lynx_value 的类型。
```c
lynx_api_status lynx_value_typeof(lynx_api_env env,
                                  lynx_value value,
                                  lynx_value_type* result); 
```

## lynx_value_create_null
创建一个类型为 lynx_value_null 的 lynx_value。
```c
lynx_api_status lynx_value_create_null(lynx_api_env env,
                                       lynx_value* result);
```

## lynx_value_create_bool
用给定的值创建一个类型为 lynx_value_bool 的 lynx_value。
```c
lynx_api_status lynx_value_create_bool(lynx_api_env env,
                                       bool value,
                                       lynx_value* result);
```

## lynx_value_create_double
用给定的值创建一个类型为 lynx_value_double 的 lynx_value。
```c
lynx_api_status lynx_value_create_double(lynx_api_env env,
                                         double value,
                                         lynx_value* result);
```

## lynx_value_create_int32
用给定的值创建一个类型为 lynx_value_int32 的 lynx_value。
```c
lynx_api_status lynx_value_create_int32(lynx_api_env env,
                                        int32_t value,
                                        lynx_value* result);
```

## lynx_value_create_uint32
用给定的值创建一个类型为 lynx_value_uint32 的 lynx_value。
```c
lynx_api_status lynx_value_create_uint32(lynx_api_env env,
                                         uint32_t value,
                                         lynx_value* result);
```

## lynx_value_create_int64
用给定的值创建一个类型为 lynx_value_int64 的 lynx_value。
```c
lynx_api_status lynx_value_create_int64(lynx_api_env env,
                                        int64_t value,
                                        lynx_value* result);
```

## lynx_value_create_uint64
用给定的值创建一个类型为 lynx_value_uint64 的 lynx_value。
```c
lynx_api_status lynx_value_create_uint64(lynx_api_env env,
                                         uint64_t value,
                                         lynx_value* result);
```

## lynx_value_create_string_utf8
用给定的 UTF-8 编码的 C 字符串创建一个类型为 lynx_value_string 的 lynx_value。给定的字符串将会被复制
```c
lynx_api_status lynx_value_create_string_utf8(
    lynx_api_env env, const char* str, size_t length, lynx_value* result);
```

## lynx_value_create_map
创建一个 lynx_value_map 类型的容器。
```c
lynx_api_status lynx_value_create_map(lynx_api_env env,
                                      lynx_value* result);;
```

## lynx_value_create_array
创建一个 lynx_value_array 类型的容器。
```c
lynx_api_status lynx_value_create_array(lynx_api_env env,
                                        lynx_value* result);
```

## lynx_value_get_double
从 lynx_value 中读取 double 类型的值，如果 lynx_value 的类型不是 lynx_value_double，将会返回 lynx_api_double_expected。
```c
lynx_api_status lynx_value_get_double(lynx_api_env env,
                                      lynx_value value,
                                      double* result);
```

## lynx_value_get_int32
从 lynx_value 中读取 int32_t 类型的值，如果 lynx_value 的类型不是 lynx_value_int32，将会返回 lynx_api_int32_expected。
```c
lynx_api_status lynx_value_get_int32(lynx_api_env env,
                                     lynx_value value,
                                     int32_t* result);
```

## lynx_value_get_uint32
从 lynx_value 中读取 uint32_t 类型的值，如果 lynx_value 的类型不是 lynx_value_uint32，将会返回 lynx_api_uint32_expected。
```c
lynx_api_status lynx_value_get_uint32(lynx_api_env env,
                                      lynx_value value,
                                      uint32_t* result);
```

## lynx_value_get_uint32
从 lynx_value 中读取 uint32_t 类型的值，如果 lynx_value 的类型不是 lynx_value_uint32，将会返回 lynx_api_uint32_expected。
```c
lynx_api_status lynx_value_get_uint32(lynx_api_env env,
                                      lynx_value value,
                                      uint32_t* result);
```

## lynx_value_get_int64
从 lynx_value 中读取 int64_t 类型的值，如果 lynx_value 的类型不是 lynx_value_int64，将会返回 lynx_api_int64_expected。
```c
lynx_api_status lynx_value_get_int64(lynx_api_env env,
                                     lynx_value value,
                                     int64* result);
```

## lynx_value_get_uint64
从 lynx_value 中读取 uint64_t 类型的值，如果 lynx_value 的类型不是 lynx_value_uint64，将会返回 lynx_api_uint64_expected。
```c
lynx_api_status lynx_value_get_uint64(lynx_api_env env,
                                      lynx_value value,
                                      uint64* result);
```

## lynx_value_get_bool
从 lynx_value 中读取 bool 类型的值，如果 lynx_value 的类型不是 lynx_value_bool，将会返回 lynx_api_bool_expected。
```c
lynx_api_status lynx_value_get_bool(lynx_api_env env,
                                    lynx_value value,
                                    bool* result);
```

## lynx_value_get_string_utf8
从 lynx_value 中读取一个 UTF-8 编码的 C 字符串，如果 lynx_value 的类型不是 lynx_value_string，将会返回 lynx_api_string_expected。如果 buf 参数传入 NULL，字符串的长度（以字节为单位，不包括空终止符）将在 result 中返回。
```c
lynx_api_status lynx_value_get_string_utf8(lynx_api_env env,
                                           lynx_value value,
                                           char* buf,
                                           size_t bufsize,
                                           size_t* result);
```

## lynx_value_get_array_length
读取 lynx_value_array 类型的 lynx_value 的长度。
```c
lynx_api_status lynx_value_get_array_length(lynx_api_env env,
                                            lynx_value value,
                                            uint32_t* result);
```

## lynx_value_set_element
在给定位置上给 lynx_value_array 类型的 lynx_value 插入一个值。
```c
lynx_api_status lynx_value_set_element(lynx_api_env env,
                                       lynx_value object,
                                       uint32_t index,
                                       lynx_value value);
```

## lynx_value_get_element
从 lynx_value_array 类型的 lynx_value 中读取给定位置的值。
```c
lynx_api_status lynx_value_get_element(lynx_api_env env,
                                       lynx_value object,
                                       uint32_t index,
                                       lynx_value* result);
```

## lynx_value_has_property
判断类型为 lynx_value_map 的 lynx_value 中是否存在给定 key 的键值对。
```c
lynx_api_status lynx_value_has_property(lynx_api_env env,
                                        lynx_value object,
                                        const char* utf8name,
                                        bool* result);
```

## lynx_value_set_named_property
为 lynx_value_map 的 lynx_value 设置给定键值对。
```c
lynx_api_status
lynx_value_set_named_property(lynx_api_env env, lynx_value object,
                              const char* utf8name, lynx_value value);
```

## lynx_value_get_named_property
从 lynx_value_map 的 lynx_value 中读取给定 key 的值。
```c
lynx_api_status
lynx_value_get_named_property(lynx_api_env env, lynx_value object,
                              const char* utf8name, lynx_value* result);
```

## lynx_value_iterate_value
遍历 array 或者 map。
```c
lynx_api_status lynx_value_iterate_value(
    lynx_api_env env, lynx_value object, lynx_value_iterator_callback callback,
    void* func, void* raw_data);
```

## lynx_value_add_reference
让给定 lynx_value 的引用计数加一
```c
lynx_api_status lynx_value_add_reference(
    lynx_api_env env, lynx_value value, lynx_value_ref* result);
```

## lynx_value_remove_reference
让给定 lynx_value 的引用计数减一
```c
lynx_api_status lynx_value_remove_reference(
    lynx_api_env env, lynx_value value, lynx_value_ref ref);
```

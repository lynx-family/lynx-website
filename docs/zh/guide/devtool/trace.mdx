<style>{`
  .full_image {
    width: 750px;
    margin: 20px;
  }
`}</style>

import * as NextSteps from '@lynx/NextSteps';

# Trace

Trace 是一个性能分析工具，帮助你识别并解决 Lynx 应用中的性能问题。使用 Trace 可以获取 Lynx 页面详细的渲染流程，帮助你定位、分析和解决卡顿、长任务等性能问题。

## Trace 的核心能力

### 1. 渲染流水线可视化

Trace 以时间轴方式完整展示页面脚本执行、Element 构建、布局计算到最终渲染的全过程。你可以：

- 清晰查看各关键阶段（如排版、绘制）的耗时分布；
- 直观发现流程中的阻塞节点与性能瓶颈；
- 识别冗余或重复的渲染任务，优化页面结构。

<img
  src="https://lf-lynx.tiktok-cdns.com/obj/lynx-artifacts-oss-sg/plugin/static/trace_render_pipeline.png"
  alt="Trace Render Pipeline"
  className="full_image"
/>

### 2. 引擎执行流程追踪

Trace 深入 Lynx 引擎底层，详细记录：

- 任务调度与队列切换的时序；
- 事件处理链路的全貌；
- API 调用的具体耗时与调用关系。

这些数据帮助你定位异步任务拥塞、事件响应延迟等问题，实现精准优化。

<img
  src="https://lf-lynx.tiktok-cdns.com/obj/lynx-artifacts-oss-sg/plugin/static/trace-scheduling.png"
  alt="Trace Task Scheduling"
  className="full_image"
/>

### 3. 丰富的性能分析能力

Trace 不仅是一个“时间轴”，更是一个多维度的性能分析平台：

- Element 分析：追踪 Element 树结构的变化，识别高频次或高成本的节点操作，帮助你发现页面结构设计上的性能隐患。

<img
  src="https://lf-lynx.tiktok-cdns.com/obj/lynx-artifacts-oss-sg/plugin/static/element-render-analysis.png"
  alt="Element"
  className="full_image"
/>

- NativeModules 调用分析：监控 NativeModules 的详细调用过程，直观显示每一次跨端调用的耗时与参数，定位潜在瓶颈。

<img
  src="https://lf-lynx.tiktok-cdns.com/obj/lynx-artifacts-oss-sg/plugin/static/nativemodule-invoke-flow.png"
  alt="NativeModules"
  className="full_image"
/>

- 流畅度分析：通过任务耗时的火焰图，快速定位卡顿根源，辅助你优化动画和交互。

<img
  src="https://lf-lynx.tiktok-cdns.com/obj/lynx-artifacts-oss-sg/plugin/static/trace-frame.png"
  alt="Trace Frame"
  className="full_image"
/>

## Next Steps

<NextSteps.Root>

<NextSteps.Step
  href="/guide/devtool/trace/record-trace"
  title="录制 Trace"
  description="了解如何录制 Trace"
/>

</NextSteps.Root>
